# redis

## redis缓存异常场景

- 缓存穿透
	描述： 缓存穿透是指缓存和数据库中都没有的数据，而用户不断发起请求，这时的用户很可能就是攻击者，攻击会导致数据库压力过大
	解决方案： 缓存空对象；布隆过滤器（推荐）
- 缓存击穿
	描述： 缓存击穿是指缓存中没有，但是数据库中有的数据（一般是缓存时间到期），这时由于并发用户特别多，同时读缓存没有读到数据，又同时去数据库中获取数据，引起数据库压力瞬间增大
	解决方案：设置热点数据永不过期；使用互斥锁排队；缓存屏障
- 缓存雪崩
	描述： 缓存在同一时间内大量键过期（失效），接着来的一大波请求瞬间落在数据库中导致连接异常
	解决方案： 互斥锁排对；缓存预热；双层缓存策略（原始缓存，拷贝缓存）
- 缓存预热
	描述：缓存预热就是系统上线后，将相关的缓存数据直接加载到缓存系统，这样避免在用户请求时，先查询数据库，然后再将数据缓存的问题；
	解决方案： 数据量不大的时候，工程启动的时候进行加载缓存动作；
			数据量大的时候，设置一个定时任务任务脚本，进行缓存的刷新
			数据量太大的时候，优先保证热点数据进行提前加载到缓存
- 缓存降级
	描述： 降级的情况，就是缓存失效或者缓存服务器挂掉的情况下，我们也不去访问数据库，我们直接访问内存部分数据缓存或者直接返回默认数据 